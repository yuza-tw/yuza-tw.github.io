<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>レシピツール</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- iOS用のメタタグ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="レシピ">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiM5YzY2YjMiLz4KPHBhdGggZD0iTTQ4IDY0SDE0NFYxMjhINTRWODRINDRWNjRINDRaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNTQgNzRIMTM0VjExOEg2NFY4NEg1NFY3NFoiIGZpbGw9IiNmNWY1ZjUiLz4KPHBhdGggZD0iTTY0IDg0SDEyNFY5NEg3NFY4NFoiIGZpbGw9IiM5YzY2YjMiLz4KPHBhdGggZD0iTTY0IDEwMEgxMjRWMTEwSDc0VjEwMFoiIGZpbGw9IiM5YzY2YjMiLz4KPHBhdGggZD0iTTY0IDExNkgxMjRWMTI2SDc0VjExNloiIGZpbGw9IiM5YzY2YjMiLz4KPC9zdmc+">
</head>
<body>
    <div class="container">
        <div class="tabs" id="categoryTabs">
            <button class="tab active">メイン</button>
            <button class="tab">サブ</button>
        </div>

        <div id="itemList"></div>
    </div>
    <div class="modal" id="addModal" onclick="handleModalOutsideClick(event)">
        <div class="modal-content">
            <input type="text" id="itemInput" class="input-field" placeholder="レシピ名を入力">
            <div class="recipe-sections">
                <div class="recipe-section">
                    <label class="section-label">食材</label>
                    <textarea id="ingredientsInput" class="input-field" placeholder="食材を入力してください" rows="8"></textarea>
                </div>
                <div class="recipe-section">
                    <label class="section-label">調理手順</label>
                    <textarea id="instructionsInput" class="input-field" placeholder="調理手順を入力してください" rows="8"></textarea>
                </div>
            </div>
            <button onclick="addItem()" class="input-field">追加</button>
            <button onclick="closeModal('addModal')" class="input-field">キャンセル</button>
        </div>
    </div>
    <div class="modal" id="editModal" onclick="handleModalOutsideClick(event)">
        <div class="modal-content">
            <input type="text" id="editInput" class="input-field" placeholder="レシピ名を入力">
            <div class="recipe-sections">
                <div class="recipe-section">
                    <label class="section-label">食材</label>
                    <textarea id="editIngredientsInput" class="input-field" placeholder="食材を入力してください" rows="8"></textarea>
                </div>
                <div class="recipe-section">
                    <label class="section-label">調理手順</label>
                    <textarea id="editInstructionsInput" class="input-field" placeholder="調理手順を入力してください" rows="8"></textarea>
                </div>
            </div>
            <div class="edit-actions">
                <button onclick="updateItem()" class="input-field">適用</button>
                <button id="deleteButton" 
                    onmousedown="startDelete()" 
                    onmouseup="cancelDelete()" 
                    onmouseleave="cancelDelete()" 
                    ontouchstart="startDelete()" 
                    ontouchend="cancelDelete()"
                    class="input-field delete-button">
                    <span>削除</span>
                </button>
                <button onclick="closeModal('editModal')" class="input-field">キャンセル</button>
            </div>
        </div>
    </div>
    <div class="modal" id="recipeModal" onclick="handleModalOutsideClick(event)">
        <div class="modal-content recipe-modal">
            <h3 id="recipeTitle"></h3>
            <div class="recipe-display">
                <div class="recipe-section-display">
                    <h4 class="section-title">食材</h4>
                    <div id="ingredientsDisplay" class="recipe-content"></div>
                </div>
                <div class="recipe-section-display">
                    <h4 class="section-title">調理手順</h4>
                    <div id="instructionsDisplay" class="recipe-content"></div>
                </div>
            </div>
            <div class="recipe-actions">
                <button onclick="markAsMade()" class="made-button">作った</button>
                <button onclick="editCurrentRecipe()" class="input-field">編集</button>
                <button onclick="closeModal('recipeModal')" class="input-field">閉じる</button>
            </div>
        </div>
    </div>
    <button class="add-button" id="addButton">+</button>
    <button class="share-button" id="shareButton">
        <span class="material-icons">share</span>
    </button>
    <script src="script.js"></script>

</body>
</html>

